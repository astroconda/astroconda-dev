{% set name = 'crds' %}
{% set version = GIT_DESCRIBE_TAG ~ ".dev" ~ GIT_DESCRIBE_NUMBER ~ "+" ~ GIT_DESCRIBE_HASH %}
{% if version[0] == 'v' %}
{%   set version = version[1:] %}
{% endif %}
{% set number = '4' %}
# number = 4 ; links against cfitsio >= 3.440 (no curl)

about:
    home: http://www.stsci.edu/hst/observatory/crds/
    license: AURA
    summary: |
        CRDS assigns calibration references to data using formal rules
        represented in simple text files

build:
    number: {{ number }}
    preserve_egg_dir: 'no'

package:
    name: {{ name }}
    version: {{ version }}

requirements:
    build:
    - astropy >=1.1
    - cfitsio
    - numpy {{ numpy }}
    - requests
    - lxml
    - parsley
    - filelock
    - lockfile
    - setuptools
    - python {{ python }}

    run:
    - astropy >=1.1
    - cfitsio
    - numpy
    - requests
    - lxml
    - filelock
    - lockfile
    - fitsverify
    - parsley
    - filelock
    - python

source:
    git_url: https://github.com/spacetelescope/{{ name }}.git

test:
    imports:
    - crds
