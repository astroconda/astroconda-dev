{% set name = 'jwst' %}
{% set version = environ.get("GIT_DESCRIBE_TAG", "0.0.0")
    +".dev"
    +environ.get("GIT_DESCRIBE_NUMBER", "0") %}
{% set number = '2' %}

about:
    home: https://github.com/stsci-jwst/{{ name }}
    license: BSD
    summary: JWST Pipeline code

build:
    skip: True [py27]
    number: {{ number }}
    preserve_egg_dir: 'True'

package:
    name: {{ name }}
    version: {{ version }}

requirements:
    build:
    - astropy
    - matplotlib
    - namedlist
    - numpy {{ numpy }}
    - pymssql [not py36]
    - setuptools
    - python {{ python }}

    run:
    - asdf
    - astropy
    - crds
    - dask
    - drizzle
    - fitsblender
    - gwcs
    - jsonschema
    - jplephem
    - matplotlib
    - namedlist
    - photutils
    - pymssql [not py36]
    - scipy
    - six
    - stsci.image
    - stsci.imagestats
    - stsci.sphere
    - stsci.stimage
    - stsci.tools
    - verhawk
    - numpy >=1.7*
    - python

source:
    git_url: https://github.com/stsci-jwst/{{ name }}.git

test:
    imports:
    - jwst
    - jwst.steps
    # no timeconversion: JPL network is too unstable to obtain *.bsp files.
